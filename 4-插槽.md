# 插槽

插槽的引入是进一步增大了组件的灵活性。它允许

- 在使用组件的时候，可以传递复杂的内容到组件里面

- 可以在父级组件中使用子组件里面的变量

> 父级模板里的所有内容都是在父级作用域中编译的；子模板里的所有内容都是在子作用域中编译的

## 定义插槽

在模板中使用`<slot>`标签，定义插槽。

可以给插槽name

或者把组件内部的变量暴露出去

```
Vue.component('todo-item', {
  props: {
    title: String,
    del: {
      type: Boolean,
      default: false
    }
  },
  template:
  <li>
    <slot name="pre-icon" :value="val"></slot>
    <span v-if="!del">{{title}}</span>
    <span v-else style="text-decoration: line-through;">{{title}}</span>
    <slot name="suf-icon"></slot>
    <button v-show="del" @click="handleClick">删除</button>
  </li>
  `,
  data: function () {
    return {
      val: Math.random()
    }
  },
  methods: {
    handleClick() {
      console.log('点击删除按钮')
      this.$emit('delete', this.title)
    }
  }
})
```

## 使用插槽

使用`<template v-slot:name="{value}">`标签来使用slot。

template中可以使用自己想插入的html代码。

```
<todo-item @delete="handleDelete" v-for="item in list" :title="item.title" :del="item.del">
  <template v-slot:pre-icon="{value}">
    <span>前置图标 {{value}}</span>
  </template>
  <template v-slot:suf-icon>
    <span>后置图标</span>
  </template>
</todo-item>
```